<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Cómic</title>
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/venta.css">
</head>
<body>
    <div class="appbar">
        <div class="icono">
            <img src="../img/appbar/comic.png" alt="Icono" onclick="location.href='home.html'" style="cursor: pointer;">
        </div>
        <div class="searchbar">
            <input type="text" placeholder="Busca tu comic...">
        </div>
        <div class="user">
            <!-- Checkbox oculto para controlar la visibilidad del botón -->
            <input type="checkbox" id="logoutToggle" class="logout-toggle">
            <!-- Label asociado al checkbox (la imagen del avatar) -->
            <label for="logoutToggle" class="avatar-label">
                <img src="../img/appbar/avatar.png" alt="Usuario" style="cursor: pointer;">
            </label>
            <!-- Botón "Cerrar sesión" -->
            <div class="logout-button">
                <a href="../login.html">Cerrar sesión</a>
            </div>
        </div>
    </div>

    <div class="comic-container">
        <div class="comic-image">
            <img src="../img/comics/batman1.jpg" alt="BATMAN 1">
        </div>
        <div class="comic-details">
            <h2>BATMAN 1</h2>
            <p class="editorial"><em>Editorial: fulana</em></p>
            <p class="description">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
                Praesent metus ligula, aliquet quis quam vitae, hendrerit suscipit felis...
            </p>
            <div class="price" id="price">Precio: 180.0$</div>
        </div>
        <div class="comic-actions">
            <div class="quantity-container">
                <label>Cantidad:</label>
                <button class="quantity-btn" onclick="changeQuantity(-1)">-</button>
                <input type="text" id="quantity" value="1" readonly>
                <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
            </div>
            <div class="total">
                <p>Total: <span id="total-price">180.0$</span></p>
            </div>
            <button class="buy-btn">Comprar</button>
        </div>
    </div>

    <script>
        function changeQuantity(change) {
            let quantityInput = document.getElementById("quantity");
            let totalPriceElement = document.getElementById("total-price");
            let pricePerItem = 180.0; // Precio por unidad

            let currentQuantity = parseInt(quantityInput.value);
            let newQuantity = currentQuantity + change;

            // Evitar números negativos o cero
            if (newQuantity < 1) return;

            quantityInput.value = newQuantity;
            let newTotal = newQuantity * pricePerItem;
            totalPriceElement.innerText = newTotal.toFixed(1) + "$";
        }
    </script>
</body>
</html>
