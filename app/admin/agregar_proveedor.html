<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar Proveedor</title>
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/agregar_proveedor.css">
</head>
<body>
    <div class="appbar">
        <div class="icono">
            <img src="../img/appbar/comic.png" alt="Icono" onclick="location.href='home.html'" style="cursor: pointer;">
        </div>
        <div class="searchbar">
            <input type="text" placeholder="Busca tu comic...">
        </div>
        <div class="user">
            <!-- Checkbox oculto para controlar la visibilidad del botón -->
            <input type="checkbox" id="logoutToggle" class="logout-toggle">
            <!-- Label asociado al checkbox (la imagen del avatar) -->
            <label for="logoutToggle" class="avatar-label">
                <img src="../img/appbar/avatar.png" alt="Usuario" style="cursor: pointer;">
            </label>
            <!-- Botón "Cerrar sesión" -->
            <div class="logout-button">
                <a href="../login.html">Cerrar sesión</a>
            </div>
        </div>
    </div>

    <h1 class="titulo">Agregar Nuevo Proveedor</h1>

    <div class="form-container">
        <form id="formProveedor" class="formulario">
            <input type="text" id="nombre" placeholder="Nombre del proveedor" required>
            <input type="email" id="email" placeholder="Correo electrónico" required>
            <input type="tel" id="telefono" placeholder="Teléfono" required>
            <input type="text" id="direccion" placeholder="Dirección" required>
            <input type="date" id="abastecimiento" required>
            <div class="botones">
                <button type="button" class="btn-guardar" onclick="guardarProveedor()">Guardar</button>
                <button type="button" class="btn-cancelar" onclick="window.location.href='gestion_proveedores.html'">Cancelar</button>
            </div>
        </form>
    </div>

    <script>
        function guardarProveedor() {
            let nombre = document.getElementById("nombre").value;
            let email = document.getElementById("email").value;
            let telefono = document.getElementById("telefono").value;
            let direccion = document.getElementById("direccion").value;
            let abastecimiento = document.getElementById("abastecimiento").value;
            if (nombre && email && telefono && direccion && abastecimiento) {
                let proveedores = JSON.parse(localStorage.getItem("proveedores")) || [];
                proveedores.push({ nombre, email, telefono, direccion, abastecimiento });
                localStorage.setItem("proveedores", JSON.stringify(proveedores));
                alert("Proveedor agregado exitosamente.");
                window.location.href = "gestion_proveedores.html";
            } else {
                alert("Por favor, completa todos los campos.");
            }
        }
    </script>
</body>
</html>
